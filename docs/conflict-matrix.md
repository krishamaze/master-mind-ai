# Documentation Conflict Matrix (Phase 1 - Task 1.2)

| Information Area | Source(s) | Conflicts With | Impact / Notes |
| --- | --- | --- | --- |
| Architecture overview | `README.md` (Browser Extension → Django API → Mem0) | `backend-v2/app/main.py`, `backend-v2/app/services/memory.py` (FastAPI + hardened Mem0 pipeline, no Django/DB) | Primary docs point contributors toward deprecated stack; hides FastAPI service that powers HARDENED enhancement.【F:README.md†L11-L63】【F:backend-v2/app/main.py†L1-L52】【F:backend-v2/app/services/memory.py†L1-L210】 |
| API surface | `README.md` & `docs/file-structure.md` (`/api/v1/conversations`, Django serializers) | FastAPI routers (`/api/v1/memories/search`, `/api/v1/users/{id}/app-ids`, no conversations endpoint) | Extension + docs reference non-existent endpoints, causing runtime failures during migration.【F:README.md†L64-L109】【F:docs/file-structure.md†L61-L123】【F:backend-v2/app/routers/memories.py†L1-L60】【F:backend-v2/app/routers/users.py†L1-L37】 |
| Assignment workflow | `extension/popup.js` (GET `/assignments?userid=`, min app length 8) | `backend-v2/app/routers/assignments.py`, `backend-v2/app/models.py` (POST `/assignments`, app_id pattern 3-50 chars) | UI validation rejects valid IDs and calls legacy endpoints, blocking FastAPI adoption.【F:extension/popup.js†L1-L140】【F:backend-v2/app/routers/assignments.py†L1-L21】【F:backend-v2/app/models.py†L1-L60】 |
| Environment configuration | `env.example`, `render.yaml`, `docker-compose.yml` (Django, Postgres, Supabase, proxy client flags) | `backend-v2/app/core/config.py` (requires only Mem0 + OpenAI keys) | Deploying with sample configs fails because required FastAPI variables undocumented and obsolete settings remain.【F:env.example†L1-L59】【F:render.yaml†L1-L33】【F:docker-compose.yml†L1-L23】【F:backend-v2/app/core/config.py†L1-L32】 |
| Deployment pipeline | `Dockerfile`, Render scripts/docs (Gunicorn WSGI, migrations, collectstatic) | FastAPI runtime (Uvicorn, async, stateless) | Build scripts re-run Django commands that no longer exist, preventing hardened service deployment.【F:Dockerfile†L1-L46】【F:render-build.sh†L1-L9】【F:render-start.sh†L1-L6】【F:backend-v2/app/main.py†L1-L52】 |
| Health check endpoint | `docs/render-deployment.md` (Render probes `/` with DB check) | `backend-v2/app/routers/health.py` (exposes `/api/v1/health`, no DB) | Monitoring docs misdirect ops; existing scripts hit wrong path and expect DB connectivity.【F:docs/render-deployment.md†L1-L35】【F:backend-v2/app/routers/health.py†L1-L20】 |
| Conversation logging | `extension/background.js` (POST `/api/v1/conversations`, `/api/debug-logs/`) | FastAPI routers (no conversation/debug endpoints) | Extension attempts unsupported calls; backend logs errors and loses telemetry coverage.【F:extension/background.js†L1-L96】【F:backend-v2/app/routers/memories.py†L1-L60】 |
| Hardened enhancement safeguards | `backend-v2/app/services/memory.py` (GraphMemory search, vocabulary guardrails, post-processing) | `docs/mem0-migration.md` (focuses on proxy client toggles without new safeguards) | Critical hardening measures undocumented, making it difficult for operators to reason about behavior or tune limits.【F:backend-v2/app/services/memory.py†L1-L400】【F:docs/mem0-migration.md†L1-L60】 |

## Missing-but-Implemented Features
- GraphMemory-enabled assignment seeding (`AsyncMemoryService.create_assignment`) lacks any mention in docs or README.【F:backend-v2/app/services/memory.py†L60-L140】
- Vocabulary whitelist + post-processing guardrails for prompt enhancement undocumented outside code comments.【F:backend-v2/app/services/memory.py†L320-L520】
- User app discovery via Mem0 Entities API (`get_user_app_ids`) has no corresponding documentation for expected response shape or rate limits.【F:backend-v2/app/services/memory.py†L40-L120】

